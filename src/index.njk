---
layout: layouts/base.njk
title: Home
---

<section class="aa-hero aa-hero--pattern">
  <div class="aa-hero__inner">
    <img class="aa-hero__logo" src="/images/logo-badge.svg" alt="Archie’s Adventures" width="100" height="100" />
    <h1 class="aa-hero__title">Welcome to Archie’s Adventures</h1>
    <p class="aa-hero__lead">New family-friendly adventures, straight to your inbox.</p>

    <!-- Netlify Forms -->
      <form name="newsletter" method="POST" data-netlify="true"
            netlify-honeypot="bot-field" action="/thanks" class="aa-sub__form">
        <input type="hidden" name="form-name" value="newsletter">
        <p class="sr-only"><label>Don’t fill this out: <input name="bot-field"></label></p>

        <div class="aa-sub__row">
          <input aria-label="Your email" type="email" name="email" placeholder="Your email" required>
          <button class="aa-sub__btn" type="submit">Subscribe</button>
        </div>

        <!-- Optional consent line under the input row -->
        <label class="aa-sub__agree">
          <input type="checkbox" name="agree" required>
          I agree to receive adventure updates ✨
        </label>
      </form>
  </div>
</section>


<!-- Latest Adventures -->
<section class="container">
  <h1>Latest Adventures</h1>

  <div id="aa-grid" class="aa-grid">
    {% for p in collections.latestPosts %}
      {% set cover    = p.data.cover or '/images/sample.jpg' %}
      {% set tagsList = p.data.tags or [] %}
      {% set firstTag = (tagsList[0] | default('')) %}

      <div class="aa-cardwrap"
           data-tags="{{ tagsList | join(',') | lower }}"
           data-title="{{ (p.data.title or '') | lower }}"
           data-excerpt="{{ (p.data.excerpt or '') | lower }}">

        <a class="aa-card" href="{{ p.url }}">
          <div class="aa-card__media">
            <img src="{{ cover }}" alt="{{ p.data.title }}">
          </div>

          <div class="aa-card__body">
            <div class="aa-card__toprow">
              {% if firstTag %}<span class="aa-pill">{{ firstTag }}</span>{% endif %}
              <span class="aa-meta">{{ p.templateContent | readTime }}</span>
            </div>

            <h3 class="aa-card__title">{{ p.data.title }}</h3>

            {% if p.data.excerpt %}
              <p class="aa-card__excerpt">{{ p.data.excerpt }}</p>
            {% endif %}

            <div class="aa-card__meta">
              <span class="aa-meta">{{ p.date | date("dd/MM/yyyy") }}</span>
            </div>
          </div>
        </a>
      </div>
    {% endfor %}
  </div>
</section>


<script>
  const btn = document.getElementById('share-any');
  if (btn && navigator.share) {
    btn.addEventListener('click', (e) => {
      e.preventDefault();
      navigator.share({
        title: "Archie’s Adventures",
        text: "Fun kid-led travel stories — join the adventure!",
        url: "https://archiesadventures.blog"
      }).catch(()=>{ /* user canceled – no-op */ });
    });
  } else if (btn) {
    // Hide the native pill if share isn't supported
    btn.style.display = 'none';
  }
</script>
